[{"C:\\Users\\hp\\Desktop\\reactws\\cart\\src\\App.js":"1","C:\\Users\\hp\\Desktop\\reactws\\cart\\src\\index.js":"2","C:\\Users\\hp\\Desktop\\reactws\\cart\\src\\CartItem.js":"3","C:\\Users\\hp\\Desktop\\reactws\\cart\\src\\Cart.js":"4","C:\\Users\\hp\\Desktop\\reactws\\cart\\src\\Navbar.js":"5"},{"size":4386,"mtime":1610443916970,"results":"6","hashOfConfig":"7"},{"size":583,"mtime":1610428325949,"results":"8","hashOfConfig":"7"},{"size":2809,"mtime":1610376400800,"results":"9","hashOfConfig":"7"},{"size":625,"mtime":1610374922104,"results":"10","hashOfConfig":"7"},{"size":1081,"mtime":1610375628712,"results":"11","hashOfConfig":"7"},{"filePath":"12","messages":"13","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"14"},"4cdwaa",{"filePath":"15","messages":"16","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"17","messages":"18","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"19"},{"filePath":"20","messages":"21","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\hp\\Desktop\\reactws\\cart\\src\\App.js",["24"],"import React from 'react';\nimport Cart from './Cart';\nimport Navbar from './Navbar';\nimport firebase from 'firebase/app';\n\n\nclass App extends React.Component {\n\n  constructor(){\n    super();\n    this.state= {\n        products:[ ],\n        loading:true\n    }\n    // this.increaseQuantity = this.increaseQuantity.bind(this);\n}\n\n// componentDidMount(){\n//   firebase\n//   .firestore()\n//   .collection('products')\n//   .get()\n//   .then((snapshot)=>{\n//     console.log(snapshot);\n\n//   snapshot.docs.map((doc)=>{\n//     console.log(doc.data());\n//     return '';\n//   });\n\n//   const products = snapshot.docs.map((doc)=>{\n//     const data = doc.data();\n//     data['id'] = doc.id;\n//     return data;\n//   })\n\n//   this.setState({\n//     products:products,\n//     loading:false\n//   })\n//   })\n// }\n\ncomponentDidMount(){\n  firebase\n  .firestore()\n  .collection('products')\n  .onSnapshot((snapshot)=>{\n    console.log(snapshot);\n\n  snapshot.docs.map((doc)=>{\n    console.log(doc.data());\n    return '';\n  });\n\n  const products = snapshot.docs.map((doc)=>{\n    const data = doc.data();\n    data['id'] = doc.id;\n    return data;\n  })\n\n  this.setState({\n    products:products,\n    loading:false\n  })\n})\n}\n\nhandleIncreaseQuantity = (product)=>{\n    console.log('hey increase the qty of' , product);\n    const {products} = this.state;\n    const index = products.indexOf(product);\n\n    const docRef = firebase.firestore().collection('products').doc(products[index].id);\n\n    docRef\n    .update({\n      qty:products[index].qty + 1\n    })\n    .then(()=>{\n      console.log('Increased successfully')\n    })\n    .catch((error)=>{\n      console.log('Error', error)\n    })\n    // products[index].qty += 1;\n\n    // this.setState({\n    //     products:products\n    // })\n}\n\nhandleDecreaseQuantity = (product)=>{\n    console.log('hey decrease the qty of' , product);\n\n    if(product.qty === 0){\n        return;\n    }\n    const {products} = this.state;\n    const index = products.indexOf(product);\n\n    const docRef = firebase.firestore().collection('products').doc(products[index].id);\n\n    docRef\n    .update({\n      qty:products[index].qty - 1\n    })\n    .then(()=>{\n      console.log('Decreased successfully')\n    })\n    .catch((error)=>{\n      console.log('Error', error)\n    })\n    // products[index].qty -= 1;\n\n    // this.setState({\n    //     products:products\n    // })\n}\n\nhandleDeleteProduct = (id)=>{\n    const {products} = this.state;\n\n    const docRef = firebase.firestore().collection('products').doc(id);\n\n    docRef\n    .delete()\n    .then(()=>{\n      console.log('Deleted successfully')\n    })\n    .catch((error)=>{\n      console.log('Error', error)\n    })\n    // const items = products.filter((item) => item.id !== id);\n\n    // this.setState({\n    //     products:items\n    // })\n}\n\ngetCartCount= ()=>{\n  const {products}  = this.state;\n\n  let count = 0;\n\n  products.forEach((product)=>{\n    count += product.qty;\n\n  })\n  return count;\n}\n\ngetCartTotal = ()=>{\n  const {products} = this.state;\n  let cartTotal = 0;\n\n  products.map((product)=>{\n    cartTotal = cartTotal + product.qty * product.price;\n    return '';\n  })\n  return cartTotal;\n}\n\n// addProduct = ()=>{\n//   firebase\n//   .firestore()\n//   .collection('products')\n//   .add({\n//     img:'https://images.unsplash.com/photo-1515054562254-30a1b0ebe227?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=967&q=80',\n//     price:5999,\n//     qty:3,\n//     title:'Earpods'\n//   })\n//   .then((docRef)=>{\n//     console.log('product has been added to firebase', docRef);\n//   })\n//   .catch((error)=>{\n//     console.log('error in adding product in firebase', error);\n//   })\n// }\n\n  render(){\n    const {products, loading} = this.state;\n    return (\n      <div className=\"App\">\n        <Navbar count={this.getCartCount()} />\n        {/* <button style={{padding:20,fontSize:20,marginLeft:600}} onClick={this.addProduct}>Add a Product</button> */}\n        <Cart \n          products={products}\n          onIncreaseQuantity = {this.handleIncreaseQuantity}\n          onDecreaseQuantity = {this.handleDecreaseQuantity}\n          onDeleteProduct = {this.handleDeleteProduct}\n        />\n        {loading && <h1>Loading Products ...</h1>}\n        <div style={{padding:40, fontSize:30,color:'deeppink',marginLeft:43}}>Total: {this.getCartTotal()}</div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","C:\\Users\\hp\\Desktop\\reactws\\cart\\src\\index.js",[],"C:\\Users\\hp\\Desktop\\reactws\\cart\\src\\CartItem.js",["25"],"import React from 'react';\r\n\r\n\r\nconst CartItem = (props)=>{\r\n   \r\n\r\n\r\n    console.log('this.props', props)\r\n    const {price, qty, title} = props.product;\r\n    return(\r\n        <div className=\"cart-item\">\r\n            {/* {this.props.jsx} */}\r\n            <div className=\"left-block\">\r\n                <img style={styles.image} src={props.product.img}/>\r\n            </div>\r\n            <div className=\"right-block\">\r\n                <div style={{fontSize:25}}>{title}</div>\r\n                <div style={{color:'#777'}}>Rs {price}</div>\r\n                <div style={{color:'#777'}}>Qty: {qty}</div>\r\n\r\n                <div className=\"cart-item-actions\">\r\n                    {/* Buttons */ }\r\n                    <img \r\n                        alt=\"increase\" \r\n                        className=\"action-icons\" \r\n                        src=\"https://www.flaticon.com/svg/static/icons/svg/992/992651.svg\" \r\n                        onClick={()=>props.onIncreaseQuantity(props.product)}\r\n                    />\r\n                    <img \r\n                        alt=\"decrease\" \r\n                        className=\"action-icons\" \r\n                        src=\"https://www.flaticon.com/svg/static/icons/svg/992/992683.svg\" \r\n                        onClick={()=>props.onDecreaseQuantity(props.product)}\r\n                    />\r\n                    <img \r\n                        alt=\"delete\" \r\n                        className=\"action-icons\" \r\n                        src=\"https://www.flaticon.com/svg/static/icons/svg/3096/3096673.svg\" \r\n                        onClick={()=> props.onDeleteProduct(props.product.id)}\r\n                    />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    ) ;\r\n\r\n}\r\n\r\nconst styles = {\r\n    image:{\r\n        height:110,\r\n        width:110,\r\n        borderRadius:5,\r\n        background:'#ccc'\r\n    }\r\n}\r\n\r\n\r\nexport default CartItem;\r\n\r\n\r\n\r\n    // increaseQuantity = ()=>{\r\n    //     // console.log('this', this.state);\r\n    //     // setState form 1\r\n    //     // this.setState({\r\n    //     //     qty:this.state.qty + 1\r\n    //     // },callback()=>{})\r\n    //        // setState form 2\r\n    //        this.setState((prevState)=>{\r\n    //            return{\r\n    //             qty:prevState.qty + 1\r\n    //            }\r\n    //        },()=>{\r\n    //            console.log(this.state)\r\n    //        });\r\n    // }\r\n    // decreaseQuantity = ()=>{\r\n    //     const {qty} = this.state;\r\n\r\n    //     if(qty === 0){\r\n    //        return; \r\n    //     }\r\n    //     // setState form 1\r\n    //     // this.setState({\r\n    //     //     qty:this.state.qty + 1\r\n    //     // })\r\n    //        // setState form 2\r\n    //        this.setState((prevState)=>{\r\n    //         return{\r\n    //          qty:prevState.qty - 1\r\n    //         }\r\n    //     });\r\n    // }","C:\\Users\\hp\\Desktop\\reactws\\cart\\src\\Cart.js",[],"C:\\Users\\hp\\Desktop\\reactws\\cart\\src\\Navbar.js",[],{"ruleId":"26","severity":1,"message":"27","line":122,"column":12,"nodeType":"28","messageId":"29","endLine":122,"endColumn":20},{"ruleId":"30","severity":1,"message":"31","line":14,"column":17,"nodeType":"32","endLine":14,"endColumn":68},"no-unused-vars","'products' is assigned a value but never used.","Identifier","unusedVar","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement"]